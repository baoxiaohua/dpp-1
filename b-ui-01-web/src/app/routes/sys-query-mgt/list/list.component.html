<page-header [title]="headerTitle" [breadcrumb]="breadcrumb" [homeI18n]="'title.home'" [action]="action">
  <ng-template #breadcrumb>
    <nz-breadcrumb>
      <nz-breadcrumb-item>
        <a [routerLink]="['/']">{{'title.home'|translate}}</a>
      </nz-breadcrumb-item>
      <nz-breadcrumb-item>{{'menu.sys-query.mgt'|translate}}</nz-breadcrumb-item>
      <nz-breadcrumb-item>{{'menu.sys-query.list'|translate}}</nz-breadcrumb-item>
    </nz-breadcrumb>
  </ng-template>

  <ng-template #action>
    <button nz-button nzType="dashed" nzSize="small" nz-tooltip nzTitle="{{'close'|translate}}" nzPlacement="bottom" (click)="close()">
        <i nz-icon type="close" theme="outline"></i>
      </button>
    <button nz-button nzType="dashed" nzSize="small" nz-tooltip nzTitle="{{'back'|translate}}" nzPlacement="bottom" (click)="goToPrevious()">
      <i nz-icon type="arrow-left" theme="outline"></i>
    </button>
    <button nz-button nzType="dashed" nzSize="small" nz-tooltip nzTitle="{{'reload'|translate}}" nzPlacement="bottom" (click)="loadPage()">
      <i nz-icon type="reload" theme="outline"></i>
    </button>
  </ng-template>
</page-header>

<nz-card nzBordered="false" class="content-card-min-height">
  <nz-spin [nzSpinning]="loading">
      <sf #sf mode="search" [schema]="searchSchema" [button]="null">
        <button nzType="primary" nz-button (click)="search()">{{"search"|translate}}</button>
        <button (click)="reset()" type="button" nz-button>{{"reset"|translate}}</button>
        <nz-divider nzType="vertical"></nz-divider>
        <button nzType="primary" nz-button (click)="add()">{{"add"|translate}}</button>
        <button nzType="primary" nz-button (click)="add()">{{"export"|translate}}</button>
      </sf>
      <st #st [data]="stData.list" [columns]="columns" size="small" [multiSort]="multiSort"
              [page]="{front:false}" [ps]="stData.pageSize" [total]="stData.total" (change)="change($event)">
      </st>
  </nz-spin>
</nz-card>
